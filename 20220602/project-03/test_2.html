<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div id="menu"></div>
  <div id="submenu"></div>

  <script>
    const menu = document.getElementById("menu");
    const submenu =document.getElementById("submenu");

    function createMenu(parentdiv, divArr){
  // 메뉴 생성 함수 
  for(let i = 0; i<divArr.length; i++){
    //반복문
    const newMenu = document.createElement("li");
    const newMenuText = document.createTextNode(divArr[i]);
    newMenu.appendChild(newMenuText);
    parentdiv.appendChild(newMenu);
  }
}

let menuArr = ["기본", "눈", "코입", "눈썹", "뒷머리", "앞머리" , "귀", "의상","장식1","장식2","뒷장식"];

createMenu(menu, menuArr); // 메뉴생성 함수 호출 

const ImageBox = {
        basic : [1],
        eyes: [1,2],
        noseMouth: [],
        eyebrows: [], 
        backHair: [],
        bangs: [],
        ears: [],
        clothes: [],
        deco1: [],
        deco2: [],
        backdeco: []
      }
      const menus = document.querySelectorAll("#menu>div");
      console.dir(menus);

      let ImageBoxArr = Object.values(ImageBox);
      console.dir(ImageBoxArr);
      console.dir(ImageBoxArr[1].length);
      menu.addEventListener("click", (event) => {
        for(let i=0; i<ImageBoxArr.length; i++){
          event.target = ImageBoxArr[event.target.length];
          console.log(event.target);
          console.log(ImageBoxArr[event.target.length]);
        }

      });

      function newClickBox (pararentValue){
  for(let i =0; i<ImageBoxArr.length; i++){
    // 반복문 변수 i =0; i가 이미지박스의 길이값보다 작으면 i를 1씩 증가
    if(ImageBoxArr[i] === menus[i]){
      // 만약 이미지박스어레이의 길이값이 1보다 크거나 같다면
      const newClickBox = document.createElement("div"); 
      box(newClickBox, '50px', '50px', "#ff6666");
      pararentValue.appendChild(newClickBox);
    }
  }
}


    function box (target, width, height,backgroundColor){
  target.style.width = width;
  target.style.height = height;
  target.style.backgroundColor = backgroundColor;
}



//서브메뉴 겉박스
function createSubElement (parentdiv){
  const newElement = document.createElement("div");
  newElement.id = "remove"
  box(newElement, '300px','300px','#c4c4c4');
  parentdiv.appendChild(newElement);
};

let isstatus =true;
menu.addEventListener("click", function(event){
  let getdataset = event.target.dataset.name;
  // console.log(getdataset);
  if(isstatus === true){
    createSubElement(submenu);
      const submenudiv = document.querySelector("#submenu>div");
      // createDataset(submenudiv, getdataset);
      // for(let index =0; index<ImageBoxArr[index].length; index++){
        // if(ImageBoxArr[index] === event.target.length){
          //     newElement.appendChild(newClickBox);
          //   }
          // }
          // console.dir(submenudiv.dataset.name);
          console.log(getdataset);
          isstatus = false;
        }else{
          // isstatus === false;
          // console.dir(event.target.childElementCount);
          Deletediv(submenu);
          console.log("false");
          createSubElement(submenu);
          const submenudiv = document.querySelector("#submenu>div");
          // createDataset(submenudiv, getdataset);
        }
      })


      menu.addEventListener("click", function(evnet){
        let getdataset = evnet.target.dataset.name;
        const submenudiv = document.querySelector("#submenu>div");
        let submenuDataset = submenudiv.dataset.name;
        console.log(getdataset);
        console.log(submenudiv.dataset.name);
        console.dir(evnet.target);
        console.dir(ImageBoxArr[0]);
        if(getdataset === submenuDataset){
          // 만약 getdataset === submenuDataset 같다면
          // 새로만든 클릭박스의 데이터셋 이름을 타켓인 디이터셋 이름과 같은걸로 달아줘. 
          newClickBox(submenudiv);
          let clickBox = document.querySelector("#submenu>div>div");
          // createDataset(clickBox, getdataset);
          // console.dir(clickBox.dataset.name);
          // 클릭후 dataname이 들어가긴함. 
      //     for(let i=0; i<ImageBoxArr.length; i++){
            
      //       console.dir(ImageBoxArr[i].length);
      //       // if(clickBox.dataset.name === ImageBoxArr[i]){
      //   // console.log('true');
      //   // console.log(ImageBoxArr[i]);
      //   // newClickBox(submenudiv);
      // // }
      // }
      // 만약 데이터 클릭박스의 이름이 메뉴 어레이의 값과 같다면 
    }
    
  })
  </script>
</body>
</html>